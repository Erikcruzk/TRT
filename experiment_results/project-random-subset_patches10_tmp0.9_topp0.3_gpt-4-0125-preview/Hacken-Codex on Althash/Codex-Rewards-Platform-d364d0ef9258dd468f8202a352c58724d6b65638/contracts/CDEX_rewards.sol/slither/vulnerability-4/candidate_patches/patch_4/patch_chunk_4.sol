function getReward() 
    public 
    nonReentrant 
    updateReward(msg.sender) 
{
    uint256 reward = rewards[msg.sender];
    uint256 loyaltyBonus = 0; // Initializing the variable to fix the uninitialized-local vulnerability
    
    if (reward > 0 && depositedRewardTokens >= reward) {
        
        rewards[msg.sender] = 0;
        
        depositedRewardTokens = depositedRewardTokens.sub(reward);
        
        if (_balances[msg.sender] >= loyaltyTier1) {
            loyaltyBonus = reward.mul(loyaltyTier1Bonus).div(10000);
        } else if (_balances[msg.sender] >= loyaltyTier2) {
            loyaltyBonus = reward.mul(loyaltyTier2Bonus).div(10000);
        } else if (_balances[msg.sender] >= loyaltyTier3) {
            loyaltyBonus = reward.mul(loyaltyTier3Bonus).div(10000);
        }
        
        depositedLoyaltyBonus = depositedLoyaltyBonus.sub(loyaltyBonus);
        
        CDEXToken.transfer(msg.sender, reward.add(loyaltyBonus));
        
        emit RewardPaid(msg.sender, reward);
        
        if(loyaltyBonus > 0) {
            emit LoyaltyBonusPaid(msg.sender, loyaltyBonus);
        }
    }
}