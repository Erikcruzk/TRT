function withdraw(uint256 amount) public nonReentrant updateReward(msg.sender) {
        require(amount > 0);

        uint256 userBalance = _balances[msg.sender];

        _totalSupply = _totalSupply.sub(amount);
        _balances[msg.sender] = userBalance.sub(amount);

        if (_balances[msg.sender] == 0) {
            totalMembers -= 1;
            CDEXRanking.remove(userBalance, msg.sender);
        } else {
            CDEXRanking.remove(userBalance, msg.sender);
            userBalance = _balances[msg.sender];
            CDEXRanking.insert(userBalance, msg.sender);
        }

        bool success = CDEXToken.transfer(msg.sender, amount);
        require(success);

        emit Withdrawn(msg.sender, amount);
    }