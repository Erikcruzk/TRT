  pragma solidity ^0.4.2;
  
  contract SimpleDAO {
      mapping(address => uint) public credit;
  
-     function donate(address to) payable {
+     function donate(address to) public payable {
?                                +++++++
          credit[to] += msg.value;
      }
  
-     function withdraw(uint amount) {
+     function withdraw(uint amount) public {
?                                    +++++++
+         require(credit[msg.sender] >= amount, "Insufficient credit");
-         if (credit[msg.sender] >= amount) {
-             bool res = msg.sender.call.value(amount)();
-             credit[msg.sender] -= amount;
? ----
+         credit[msg.sender] -= amount;
-         }
+         msg.sender.transfer(amount);
      }
  
-     function queryCredit(address to) returns (uint) {
+     function queryCredit(address to) public view returns (uint) {
?                                     ++++++++++++
          return credit[to];
      }
- }
+ }