function borrowInternal(uint borrowAmount) internal nonReentrant returns (uint) {
    uint error = accrueInterest();
    if (error != uint(Error.NO_ERROR)) {
        
        // accrueInterest emits logs on errors, but we still want to log the fact that an attempted borrow failed
        return fail(Error(error), FailureInfo.BORROW_ACCRUE_INTEREST_FAILED);
    }

    return borrowFresh(msg.sender, borrowAmount);
}