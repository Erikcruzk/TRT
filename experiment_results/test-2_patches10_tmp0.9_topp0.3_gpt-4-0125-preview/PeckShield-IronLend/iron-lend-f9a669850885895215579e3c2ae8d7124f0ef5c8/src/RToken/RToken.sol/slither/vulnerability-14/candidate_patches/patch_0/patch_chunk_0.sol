function beginMigration(address newImplementation) external {
    require(msg.sender == admin, "only admin can change implementation");
    require(newImplementation != address(0), "cannot migrate to address zero");
    require(newImplementation != address(this), "cannot migrate to the same contract");
    require(isContract(newImplementation), "can only migrate to a contract");

    // Delegatecall to the new implementation to execute its _becomeImplementation method
    (bool success, ) = newImplementation.delegatecall(abi.encodeWithSignature("_becomeImplementation()"));
    require(success, "delegatecall to _becomeImplementation failed");
}

// Helper function to check if an address is a contract
function isContract(address addr) internal view returns (bool) {
    uint256 size;
    assembly { size := extcodesize(addr) }
    return size > 0;
}