function doTransferOut(address payable to, uint amount) internal {
    EIP20NonStandardInterface token = EIP20NonStandardInterface(underlying);
    bool success;
    bytes memory data;

    // Ensure calling the token contract to transfer tokens succeeds
    (success, data) = address(token).call(abi.encodeWithSignature("transfer(address,uint256)", to, amount));
    
    // Handle non-standard token that does not return a value
    if (data.length > 0) {
        require(success && (data.length == 0 || abi.decode(data, (bool))), "TOKEN_TRANSFER_OUT_FAILED");
    } else {
        require(success, "TOKEN_TRANSFER_OUT_FAILED");
    }
}