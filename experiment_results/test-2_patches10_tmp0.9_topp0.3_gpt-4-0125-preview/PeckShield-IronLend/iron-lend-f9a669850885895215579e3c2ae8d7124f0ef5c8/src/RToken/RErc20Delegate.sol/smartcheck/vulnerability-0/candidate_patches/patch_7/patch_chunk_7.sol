function approve(address spender, uint256 amount) external returns (bool) {
    address src = msg.sender;
    uint256 currentAllowance = transferAllowances[src][spender];
    if (amount > currentAllowance) {
        transferAllowances[src][spender] += amount - currentAllowance;
    } else {
        transferAllowances[src][spender] -= currentAllowance - amount;
    }
    emit Approval(src, spender, amount);
    return true;
}