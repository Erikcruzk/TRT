function beginMigration(address newImplementation) public {
    require(msg.sender == admin, "UNAUTHORIZED");
    require(migrationAllowed, "MIGRATION_NOT_ALLOWED");

    // Delegate all future calls to the new implementation
    _setImplementation(newImplementation, false, "");

    // Ensure that no tokens are sent to this contract (KIP7, ETH)
    // to prevent accidental loss of funds
    require(ERC20(underlying).balanceOf(address(this)) == 0, "NONZERO_UNDERLYING_BALANCE");
    require(address(this).balance == 0, "NONZERO_ETH_BALANCE");
}