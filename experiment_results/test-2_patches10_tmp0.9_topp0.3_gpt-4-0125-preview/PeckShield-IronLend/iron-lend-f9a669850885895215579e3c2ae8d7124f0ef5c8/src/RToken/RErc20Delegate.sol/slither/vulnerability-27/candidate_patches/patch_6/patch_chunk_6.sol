function beginMigration(address target, bool isPaused) public {
    require(msg.sender == admin, "only the admin may set the migration state");
    require(target != address(0), "cannot migrate to the zero address");
    require(target != address(this), "cannot migrate to the same contract");
    require(isPaused != hasMigrationBegun, "migration state already set to that value");

    hasMigrationBegun = isPaused;
    migrationTarget = target;

    emit MigrationBegun(target, isPaused);
}