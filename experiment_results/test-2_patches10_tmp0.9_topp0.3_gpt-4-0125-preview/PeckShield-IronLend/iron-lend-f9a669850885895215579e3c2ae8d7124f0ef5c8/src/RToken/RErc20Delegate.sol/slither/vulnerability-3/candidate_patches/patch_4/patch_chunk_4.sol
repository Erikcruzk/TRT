function _setInterestRateModel(InterestRateModel newInterestRateModel) public returns (uint) {
    // Accrues interest immediately to prevent re-entry attack
    accrueInterest();
    // Ensure caller is admin
    require(msg.sender == admin, "only admin may set interest rate model");
    // Ensure the new model is a contract
    require(address(newInterestRateModel) != address(0), "model cannot be a zero address");
    // Ensure the call to the new interest model succeeds (reverts on error)
    require(newInterestRateModel.isInterestRateModel(), "marker method returned false");

    // Emit event for InterestRateModel change
    emit NewMarketInterestRateModel(interestRateModel, newInterestRateModel);

    // Set the new interest rate model
    interestRateModel = newInterestRateModel;

    return uint(Error.NO_ERROR);
}