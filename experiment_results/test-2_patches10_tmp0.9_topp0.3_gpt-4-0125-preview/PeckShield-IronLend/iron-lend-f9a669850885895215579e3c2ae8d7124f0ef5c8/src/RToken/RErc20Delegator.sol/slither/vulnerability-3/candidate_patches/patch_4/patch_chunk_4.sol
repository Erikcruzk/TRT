function _setImplementation(address implementation_, bool allowResign, bytes memory becomeImplementationData) public {
    require(msg.sender == admin, "RErc20Delegator::_setImplementation: Caller must be admin");

    if (allowResign) {
        // Prevents re-entrancy
        address oldImplementation = implementation;
        implementation = implementation_;

        delegateToImplementation(abi.encodeWithSignature("_resignImplementation()"));
        
        delegateToImplementation(abi.encodeWithSignature("_becomeImplementation(bytes)", becomeImplementationData));

        emit NewImplementation(oldImplementation, implementation);
    } else {
        address oldImplementation = implementation;
        implementation = implementation_;

        delegateToImplementation(abi.encodeWithSignature("_becomeImplementation(bytes)", becomeImplementationData));

        emit NewImplementation(oldImplementation, implementation);
    }
}