function beginMigration(address target, address[] calldata allowlist) external {
    require(msg.sender == admin, "only the admin may begin migration");
    require(target != address(0), "cannot migrate to the zero address");
    require(migration == address(0), "migration already begun");

    // Construct a call to the target address, encoding a call to `isRToken()`.
    // This is used to verify that `target` is in fact a RToken, to prevent accidents.
    bytes memory callData = abi.encodeWithSignature("isRToken()");
    (bool success, bytes memory returnData) = target.call(callData);

    // Verify that the call succeeded and returned true
    require(success && returnData.length >= 32 && abi.decode(returnData, (bool)), "bad target");

    migration = target;

    // Approve the target to pull all currently owned assets
    for (uint i = 0; i < allowlist.length; i++) {
        EIP20NonStandardInterface token = EIP20NonStandardInterface(allowlist[i]);
        token.approve(migration, uint256(-1));
    }

    emit BeginMigration(target);
}