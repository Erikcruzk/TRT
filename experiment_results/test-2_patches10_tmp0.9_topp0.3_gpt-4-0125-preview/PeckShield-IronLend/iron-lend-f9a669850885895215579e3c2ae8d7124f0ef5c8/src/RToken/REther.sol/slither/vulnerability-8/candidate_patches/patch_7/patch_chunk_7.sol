function beginMigration(address newImplementation) public {
    require(msg.sender == admin, "only the admin may set the new implementation");
    require(currentState == 0, "beginMigration: migration already in progress");
    require(RToken(newImplementation).isRToken(), "beginMigration: not an RToken");
    require(RToken(newImplementation).admin() == address(this), "beginMigration: admin of the new implementation must be this contract");
    require(RToken(newImplementation).implementation() == address(0), "beginMigration: new implementation must not already be initialized");

    currentState = 1;
    pendingImplementation = newImplementation;

    emit NewPendingImplementation(address(0), newImplementation);
}