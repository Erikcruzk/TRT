function approve(address _spender, uint _value) public {

    if (_value != 0 && allowed[msg.sender][_spender] != 0) {
      revert('Invalid approval');
    }

    allowed[msg.sender][_spender] = _value;
    emit Approval(msg.sender, _spender, _value);
  }