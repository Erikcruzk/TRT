function beginMigration() external onlyCEO whenPaused {
    require(newContractAddress != address(0));
    Kitty[] storage kittiesToMigrate = kitties;
    for (uint i = 1; i <= kittiesToMigrate.length; i++) {
        Kitty storage kitty = kittiesToMigrate[i - 1];
        if (kittyIndexToOwner[i] != address(0)) {
            KittyCore(newContractAddress)._createKitty(
                kitty.matronId,
                kitty.sireId,
                kitty.generation,
                kitty.genes,
                kittyIndexToOwner[i]
            );
        }
    }
}