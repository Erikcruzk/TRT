function _safeTransfer(address from, address to, uint256 tokenId, bytes memory _data) internal virtual {
    address owner = ownerOf(tokenId);
    require(_isApprovedOrOwner(_msgSender(), tokenId), "ERC721: transfer caller is not owner nor approved");
    _transfer(from, to, tokenId);
    if (to.isContract()) {
        require(_checkOnERC721Received(from, to, tokenId, _data), "ERC721: transfer to non ERC721Receiver implementer");
    }
    require(ownerOf(tokenId) == to, "ERC721: transfer to incorrect address");
}