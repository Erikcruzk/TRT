function getFRAXCurvePrice() public returns (uint256) {
    uint256[2] memory new_twap = frax_metapool.get_price_cumulative_last();
    uint256[2] memory balances = frax_metapool.get_twap_balances(old_twap, new_twap, block.timestamp - last_timestamp);
    last_timestamp = block.timestamp;
    old_twap = new_twap;
    uint256 twap_price;
    uint256 virtual_price = frax_metapool.get_virtual_price();
    require(virtual_price > 0, "Virtual price from the metapool is zero");
    twap_price = frax_metapool.get_dy(1, 0, 1e18, balances).mul(1e6).div(virtual_price);
    return twap_price;
}