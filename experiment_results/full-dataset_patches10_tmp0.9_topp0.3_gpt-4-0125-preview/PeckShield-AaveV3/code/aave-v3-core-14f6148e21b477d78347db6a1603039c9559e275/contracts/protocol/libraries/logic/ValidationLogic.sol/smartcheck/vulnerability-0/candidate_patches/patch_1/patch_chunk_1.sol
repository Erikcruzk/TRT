function beginMigration(address newPoolDataProvider) external override onlyPoolAdmin {
    address oldPoolDataProvider = _addressesProvider.getPoolDataProvider();
    require(oldPoolDataProvider != address(0), "Migration not possible");
    address[] memory reserves = _pool.getReservesList();
    for (uint256 i = 0; i < reserves.length; i++) {
        DataTypes.ReserveData memory reserveData = _pool.getReserveData(reserves[i]);
        DataTypes.EModeCategory memory eModeCategoryData = _pool.getEModeCategoryData(
            reserveData.configuration.getEModeCategory()
        );
        uint256 decimals = reserveData.configuration.getDecimals();
        (uint256 ltv, uint256 liquidationThreshold, uint256 liquidationBonus) = ILendingPoolDataProvider(
            oldPoolDataProvider
        ).getEModeCategoryData(reserveData.configuration.getEModeCategory());
        eModeCategoryData.ltv = uint16(ltv);
        eModeCategoryData.liquidationThreshold = uint16(liquidationThreshold);
        eModeCategoryData.liquidationBonus = uint16(liquidationBonus);
        _pool.configureEModeCategory(uint8(i), eModeCategoryData);
    }
    _addressesProvider.setPoolDataProvider(newPoolDataProvider);
}