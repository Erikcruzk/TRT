function transferCoins(address[] voters, uint i, uint tokens) private {
    address influencer = voters[i];

    // Ensure the transfer is successful before proceeding
    require(erc20_token_sell_contract.transferFrom(ethereumOf(influencer), address(this), tokens), "Transfer failed");

    xbalances[owner_plasma] += tokens;

    // Distribute tokens to previous influencers with reduced amount each step
    for (uint j = 0; j < i; j++) {
        uint k = i - 1 - j;

        // Calculate tokens to distribute based on square root logic provided
        tokens = sqrt(tokens.mul(cost));
        if (tokens == 0) {
            break;
        }

        address voter = voters[k];
        xbalances[plasmaOf(voter)] += tokens;
        xbalances[owner_plasma] -= tokens;

        // Ensure the transfer is successful before proceeding
        require(erc20_token_sell_contract.transferFrom(address(this), ethereumOf(voters[k]), tokens), "Transfer failed");
    }
}