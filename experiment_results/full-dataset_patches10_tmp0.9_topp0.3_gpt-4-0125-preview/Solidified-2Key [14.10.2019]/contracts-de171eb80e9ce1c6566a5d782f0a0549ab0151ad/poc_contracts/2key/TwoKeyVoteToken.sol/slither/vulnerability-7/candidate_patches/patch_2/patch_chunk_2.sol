function checkBalance(address _owner) internal returns (uint256) {
    if (visited[_owner] || balances[_owner] > 0) {  
      return balances[_owner];
    }

    bytes memory _name = bytes(registry.owner2name(_owner));
    if (_name.length != 0) {
      uint256 balance = 1000000000000000000;
      visited[_owner] = true;
      balances[_owner] = balance;
      return balance;
    }
    return 0;
}