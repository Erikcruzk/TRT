function buyProduct() public payable {
  uint _units = msg.value.div(cost);
  require(msg.value == cost * _units, "ethere sent does not divide equally into units");
  
  // calculate the bounty for the units we are buying
  uint256 _bounty = bounty.mul(_units);

  // Update state variables before calling external contracts
  _total_units = _total_units.sub(_units);
  
  buyProductInternal(_units, _bounty);
}