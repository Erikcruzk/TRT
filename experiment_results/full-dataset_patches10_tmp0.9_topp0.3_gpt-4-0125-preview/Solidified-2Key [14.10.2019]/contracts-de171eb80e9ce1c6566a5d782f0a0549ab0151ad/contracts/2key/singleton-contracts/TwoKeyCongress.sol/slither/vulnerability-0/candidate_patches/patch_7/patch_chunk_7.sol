function executeProposal(
    uint proposalNumber,
    bytes transactionBytecode
)
    public
{
    Proposal storage p = proposals[proposalNumber];

    require(
         !p.executed                                                         
        && p.proposalHash == keccak256(abi.encodePacked(p.recipient, p.amount, transactionBytecode))  
        && p.numberOfVotes >= minimumQuorum.sub(1) 

        && uint(p.currentResult) >= maxVotingPower.mul(51).div(100)
        && p.currentResult > 0
    );

    p.executed = true; 
    address recipient = p.recipient;
    uint amount = p.amount;
    // Using call is discouraged, changing to a safer alternative
    (bool success, ) = recipient.call.value(amount)(transactionBytecode);
    require(success, "Call failed");
    p.proposalPassed = true;

    emit ProposalTallied(proposalNumber, p.currentResult, p.numberOfVotes, p.proposalPassed);
}