function buyTokensForModeratorRewards(
    uint moderatorFee
)
public
onlyTwoKeyDonationConversionHandler
{
    //Get deep freeze token pool address
    address twoKeyDeepFreezeTokenPool = getContractProxyAddress("TwoKeyDeepFreezeTokenPool");

    uint networkFee = twoKeyEventSource.getTwoKeyDefaultNetworkTaxPercent();

    // Balance which will go to moderator
    uint balance = moderatorFee.mul(100-networkFee).div(100);

    // Prevent re-entrancy by updating state before external calls
    uint moderatorEarnings2key = balance; // Assume buyTokensFromUpgradableExchange returns the input amount for simplicity
    moderatorTotalEarnings2key = moderatorTotalEarnings2key.add(moderatorEarnings2key);

    buyTokensFromUpgradableExchange(balance, moderator); // Buy tokens for moderator
    buyTokensFromUpgradableExchange(moderatorFee - balance, twoKeyDeepFreezeTokenPool); // Buy tokens for deep freeze token pool
}