function setCutOf(
    address me,
    uint256 cut
)
internal
{
    // Prevent reentrancy by performing all checks before making any changes
    address plasma = twoKeyEventSource.plasmaOf(me);
    require(referrerPlasma2cut[plasma] == 0 || referrerPlasma2cut[plasma] == cut, "Cut can only be set once or must match the previous value.");

    // Update state after all checks passed
    referrerPlasma2cut[plasma] = cut;
}