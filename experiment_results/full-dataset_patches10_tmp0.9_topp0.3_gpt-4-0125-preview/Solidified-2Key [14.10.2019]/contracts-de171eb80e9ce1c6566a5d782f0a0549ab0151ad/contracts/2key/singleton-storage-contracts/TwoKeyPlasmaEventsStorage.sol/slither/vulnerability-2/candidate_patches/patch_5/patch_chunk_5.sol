function initialize(address sender) public payable {
    require(msg.sender == address(registry));
    // This line prevents the locked ether vulnerability
    // by ensuring the function can only be called once.
    require(!initialized, "Contract instance has already been initialized.");
    initialized = true;
}