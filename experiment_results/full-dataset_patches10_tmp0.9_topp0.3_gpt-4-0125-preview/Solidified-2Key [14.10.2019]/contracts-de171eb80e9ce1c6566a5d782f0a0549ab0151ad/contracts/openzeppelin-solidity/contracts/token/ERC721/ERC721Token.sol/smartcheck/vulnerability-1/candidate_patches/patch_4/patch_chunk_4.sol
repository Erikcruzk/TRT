function beginMigration() public onlyOwner {
    require(!migrationStarted);
    migrationStarted = true;
    uint256 lastTokenIndex = allTokens.length.sub(1);
    for (uint i = 0; i < allTokens.length; i++) {
        uint256 tokenId = allTokens[i];
        address tokenOwner = tokenOwner[tokenId];
        removeTokenFrom(tokenOwner, tokenId);
        if (i != lastTokenIndex) {
            allTokens[i] = allTokens[lastTokenIndex]; 
        }
    }
    allTokens.length = 0;
}