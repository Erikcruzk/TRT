function _checkOnERC721Received(
    address from,
    address to,
    uint256 tokenId,
    bytes memory data
)
    private
    returns (bool)
{
    if (to.isContract()) {
        bool success;
        bytes4 retval;
        (success, retval) = IERC721ReceiverUpgradeable(to).onERC721Received.selector;
        require(
            success && retval == IERC721ReceiverUpgradeable.onERC721Received.selector,
            "ERC721: transfer to non ERC721Receiver implementer"
        );
    }
    return true;
}