function remove(Bytes32Set storage set, bytes32 element) internal {
    require(contains(set, element), "Element not in set.");
    
    uint indexToRemove = set.indices[element];
    uint lastIndex = set.elements.length - 1; 
    if (indexToRemove != lastIndex) {
        
        bytes32 lastElement = set.elements[lastIndex];
        set.elements[indexToRemove] = lastElement;
        set.indices[lastElement] = indexToRemove;
    }
    set.elements.pop();
    delete set.indices[element];
}