function uniq(uint8[] storage self) public returns (uint256 length) {
  uint256 originalLength = self.length;
  for (uint256 i = 0; i < originalLength; i++) {
    for (uint256 j = i + 1; j < originalLength; ) {
      if (self[i] == self[j]) {
        for (uint256 k = j; k < originalLength - 1; k++) {
          self[k] = self[k + 1];
        }
        originalLength--;
      } else {
        j++;
      }
    }
  }
  self.length = originalLength;
  return self.length;
}