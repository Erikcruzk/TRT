function uniq(uint256[] storage self) public returns (uint256 length) {
    if (self.length > 1) {
        for (uint256 i = 1; i < self.length; i++) {
            for (uint256 j = 0; j < i; j++) {
                if (self[i] == self[j]) {
                    for (uint256 k = i; k < self.length-1; k++) {
                        self[k] = self[k + 1];
                    }
                    self.length--;
                    i--;
                    break;
                }
            }
        }
    }
    length = self.length;
}