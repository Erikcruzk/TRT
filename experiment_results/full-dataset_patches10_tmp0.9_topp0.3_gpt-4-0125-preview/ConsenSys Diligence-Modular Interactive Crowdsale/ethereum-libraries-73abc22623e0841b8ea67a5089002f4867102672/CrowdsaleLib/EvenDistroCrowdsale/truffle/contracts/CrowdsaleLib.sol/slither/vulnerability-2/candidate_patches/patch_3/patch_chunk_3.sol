function beginMigration() public {
    require(msg.sender == owner);
    require(migrationAgent != 0);
    require(totalMigrated == 0);
    require(migrationMaster == msg.sender || migrationMaster == 0);
    
    migrationMaster = msg.sender;
    uint256 _totalSupply = totalSupply;
    
    totalSupply = 0;
    totalMigrated = _totalSupply;
    MigrationAgent(migrationAgent).migrateFrom(msg.sender, _totalSupply);
    Migrate(_totalSupply);
}