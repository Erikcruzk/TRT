function beginMigration() public {
    require(msg.sender == owner);
    require(migrationAgent != 0);
    require(totalMigrated == 0);
    
    uint256 _value = balances[msg.sender];
    balances[msg.sender] -= _value;
    totalMigrated += _value;
    MigrationAgent(migrationAgent).migrateFrom(msg.sender, _value);
    Migrate(msg.sender, migrationAgent, _value);
}