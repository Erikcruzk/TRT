function beginMigration() public {
    require(msg.sender == owner);
    require(migrationAgent != 0);
    require(totalMigrated == 0);
    require(fundingEndBlock != 0 && block.number > fundingEndBlock);

    // update the contract state
    migrationStarted = true;

    // Notify everybody that the migration has begun
    MigrationStarted(migrationAgent);
}