function setTokens() public returns (bool) {
    require(msg.sender == sale.base.owner);
    require(!sale.tokensSet);
    require(now < sale.base.endTime);

    if (sale.addressTokenCap == 0) {
        calculateAddressTokenCap();
    }

    sale.tokensSet = true;

    return true;
}