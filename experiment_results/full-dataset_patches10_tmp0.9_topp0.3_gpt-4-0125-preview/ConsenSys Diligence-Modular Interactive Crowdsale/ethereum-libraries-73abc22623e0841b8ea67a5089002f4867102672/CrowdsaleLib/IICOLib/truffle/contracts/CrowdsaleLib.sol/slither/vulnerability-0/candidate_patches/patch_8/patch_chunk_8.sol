function beginMigration(CrowdsaleStorage storage self) public returns (bool) {
    uint256 index = 0; // Fixed: Initialized local variable

    require(msg.sender == self.owner);
    require(now > self.endTime);
    require(self.token.balanceOf(this) == 0);

    while (index < self.milestoneTimes.length) {
        self.milestoneTimes[index] = 0;
        self.saleData[self.milestoneTimes[index]][0] = 0;
        self.saleData[self.milestoneTimes[index]][1] = 0;
        index++;
    }
    self.tokensPerEth = 0;
    self.startTime = 0;
    self.endTime = 0;
    self.ownerBalance = 0;
    self.startingTokenBalance = 0;
    self.percentBurn = 0;
    self.tokensSet = false;

    return true;
}