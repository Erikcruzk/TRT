function beginMigration() public {
    require(msg.sender == owner);
    require(migrationAgent != 0);
    require(totalSupply != 0);
    require(!migrationAgent.isFunded());
    uint256 value = totalSupply;
    totalSupply = 0;
    balances[owner] = 0;
    MigrationAgent(migrationAgent).migrateFrom(owner, value);
    Migrate(owner, migrationAgent, value);
}