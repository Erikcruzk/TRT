function beginMigration(DirectCrowdsaleStorage storage self) public returns (bool) {
  require(msg.sender == self.base.owner);
  require(!self.base.crowdsaleEnded());

  uint256 _leftoverWei = self.base.leftoverWei[msg.sender]; // Fix uninitialized local variable
  self.base.leftoverWei[msg.sender] = 0;
  msg.sender.transfer(_leftoverWei);

  return true;
}