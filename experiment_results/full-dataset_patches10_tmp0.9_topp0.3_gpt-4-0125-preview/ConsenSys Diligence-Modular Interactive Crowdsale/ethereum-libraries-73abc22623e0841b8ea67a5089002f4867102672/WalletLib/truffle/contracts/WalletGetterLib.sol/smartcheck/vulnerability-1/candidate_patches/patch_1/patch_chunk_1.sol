function beginMigration(WalletMainLib.WalletData storage self) public {
  require(self.ownerIndex[msg.sender] > 0);
  uint256[] storage transactionDays = self.transactions[now / 1 days];
  for(uint256 i = 0; i < transactionDays.length; i++){
    bytes32[] storage dayTransactions = self.transactions[transactionDays[i]];
    if(dayTransactions.length > 0){
      for(uint256 j = 0; j < dayTransactions.length; j++){
        bytes32 transactionId = dayTransactions[j];
        uint256 transactionCount = self.transactionInfo[transactionId].length;
        if(transactionCount > 0){
          uint256 k = transactionCount - 1;
          while(k > 0){
            delete self.transactionInfo[transactionId][k];
            k--;
          }
          delete self.transactionInfo[transactionId][0];
        }
        delete self.transactions[transactionDays[i]][j];
      }
    }
    delete self.transactions[transactionDays[i]];
  }
}