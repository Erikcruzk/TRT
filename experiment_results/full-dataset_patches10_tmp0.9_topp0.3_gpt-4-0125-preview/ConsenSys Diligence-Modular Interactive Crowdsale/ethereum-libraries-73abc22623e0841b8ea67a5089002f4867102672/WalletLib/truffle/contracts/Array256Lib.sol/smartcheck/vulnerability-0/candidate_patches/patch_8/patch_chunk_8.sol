function uniq(uint256[] storage self) public returns (uint256 length) {
    for (uint256 i = 0; i < self.length; i++) {
        bool contains = false;
        uint256 index = 0;
        
        for (uint256 j = 0; j < i; j++) {
            if (self[j] == self[i]) {
                contains = true;
                index = j;
                break;
            }
        }

        if (contains && i != index) {
            for (uint256 j = i; j < self.length - 1; j++) {
                self[j] = self[j + 1];
            }
            delete self[self.length - 1];
            self.length--;
            i--;
        }
    }

    length = self.length;
}