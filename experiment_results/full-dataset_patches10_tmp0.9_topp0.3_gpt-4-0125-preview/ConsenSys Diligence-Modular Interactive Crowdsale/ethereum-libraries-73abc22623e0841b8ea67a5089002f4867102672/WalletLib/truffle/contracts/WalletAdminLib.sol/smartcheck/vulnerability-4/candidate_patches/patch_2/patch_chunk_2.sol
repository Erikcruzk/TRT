function beginMigration(WalletData storage self) public returns (bool) {
    require(self.ownerIndex[msg.sender] > 0);
    bytes32 _id = keccak256("beginMigration");
    uint256 _txIndex = self.transactionInfo[_id].length;

    if(_txIndex == 0 || self.transactionInfo[_id][_txIndex - 1].success){
        self.transactionInfo[_id].length++;
        uint newLength = self.transactionInfo[_id].length;
        self.transactionInfo[_id][newLength - 1].day = now / 1 days;
        self.transactionInfo[_id][newLength - 1].confirmRequired = self.requiredAdmin;
        self.transactions[now / 1 days].push(_id);
        self.transactionInfo[_id][newLength - 1].confirmedOwners.push(uint256(msg.sender));
        self.transactionInfo[_id][newLength - 1].confirmCount = 1;
    } else {
        _txIndex--;
        bool found;
        uint256 index;
        (found, index) = self.transactionInfo[_id][_txIndex].confirmedOwners.indexOf(uint256(msg.sender), false);
        require(!found);
        self.transactionInfo[_id][_txIndex].confirmedOwners.push(uint256(msg.sender));
        self.transactionInfo[_id][_txIndex].confirmCount++;
    }

    if(self.transactionInfo[_id][_txIndex].confirmCount == self.transactionInfo[_id][_txIndex].confirmRequired){
        self.transactionInfo[_id][_txIndex].success = true;
        // perform actual migration actions here
    }
    return true;
}