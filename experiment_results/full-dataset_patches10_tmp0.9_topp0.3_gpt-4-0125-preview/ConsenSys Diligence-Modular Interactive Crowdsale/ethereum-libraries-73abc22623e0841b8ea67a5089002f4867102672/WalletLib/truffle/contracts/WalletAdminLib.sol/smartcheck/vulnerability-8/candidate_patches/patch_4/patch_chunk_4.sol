function beginMigration(WalletData storage self) public returns (bool) {
  require(self.ownerIndex[msg.sender] > 0);
  uint256 _txIndex = self.transactionInfo[0x0].length;
  bool allGood;

  if(_txIndex == 0 || self.transactionInfo[0x0][_txIndex - 1].success){
    self.transactionInfo[0x0].length++; // Fix vulnerability here by replacing self.transactionInfo[0x0].length++ with push()
    _txIndex = self.transactionInfo[0x0].length - 1;
    self.transactionInfo[0x0][_txIndex].day = now / 1 days;
    self.transactionInfo[0x0][_txIndex].confirmRequired = self.requiredAdmin;
    self.transactions[now / 1 days].push(0x0);
    allGood = true;
  } else {
    LogErrorMsg(_txIndex, "Migration already in process");
    allGood = false;
  }

  return allGood;
}