function createContract(bytes _txData, uint256 _value) public {
    address _newContract;
    bool allGood = false; // Initialization to false

    assembly {
      _newContract := create(_value, add(_txData, 0x20), mload(_txData))
      allGood := gt(extcodesize(_newContract),0)
    }
    require(allGood);
    LogContractCreated(_newContract, _value);
  }