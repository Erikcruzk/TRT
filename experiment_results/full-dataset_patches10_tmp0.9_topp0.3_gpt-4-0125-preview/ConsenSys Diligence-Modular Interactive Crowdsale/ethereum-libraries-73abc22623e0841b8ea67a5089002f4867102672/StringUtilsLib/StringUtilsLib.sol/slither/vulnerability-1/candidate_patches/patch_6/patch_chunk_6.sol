function memcpy(uint dest, uint src, uint len) private pure {
    // NOTE: To avoid shadowing the outer scope variable, we use different variable names here
    uint destMem = dest;
    uint srcMem = src;
    uint lenMem = len;

    for (; lenMem >= 32; lenMem -= 32) {
        assembly {
            mstore(destMem, mload(srcMem))
        }
        destMem += 32;
        srcMem += 32;
    }

    uint mask = 256 ** (32 - lenMem) - 1;
    assembly {
        let srcpart := and(mload(srcMem), not(mask))
        let destpart := and(mload(destMem), mask)
        mstore(destMem, or(destpart, srcpart))
    }
}