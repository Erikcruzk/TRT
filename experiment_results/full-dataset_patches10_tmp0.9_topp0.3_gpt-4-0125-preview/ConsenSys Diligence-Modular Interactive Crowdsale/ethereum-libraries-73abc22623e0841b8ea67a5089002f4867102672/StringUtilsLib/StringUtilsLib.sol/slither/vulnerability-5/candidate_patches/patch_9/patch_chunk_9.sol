function count(slice self, slice needle) internal view returns (uint) {
    uint c = 0;
    uint ptr = findPtr(self._len, self._ptr, needle._len, needle._ptr) + needle._len;
    while (ptr <= self._ptr + self._len) {
        c++;
        ptr = findPtr(self._len - (ptr - self._ptr), ptr, needle._len, needle._ptr) + needle._len;
    }
    return c;
}