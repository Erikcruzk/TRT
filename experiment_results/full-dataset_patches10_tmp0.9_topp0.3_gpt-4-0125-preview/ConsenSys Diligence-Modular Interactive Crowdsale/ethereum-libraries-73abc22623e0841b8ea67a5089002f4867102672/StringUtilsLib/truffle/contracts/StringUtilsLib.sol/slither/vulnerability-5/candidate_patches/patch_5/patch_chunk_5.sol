function count(slice self, slice needle) internal view returns (uint count_) {
    uint ptr = findPtr(self._len, self._ptr, needle._len, needle._ptr) + needle._len;
    count_ = 0;
    while (ptr <= self._ptr + self._len) {
        count_++;
        ptr = findPtr(self._len - (ptr - self._ptr), ptr, needle._len, needle._ptr) + needle._len;
    }
}