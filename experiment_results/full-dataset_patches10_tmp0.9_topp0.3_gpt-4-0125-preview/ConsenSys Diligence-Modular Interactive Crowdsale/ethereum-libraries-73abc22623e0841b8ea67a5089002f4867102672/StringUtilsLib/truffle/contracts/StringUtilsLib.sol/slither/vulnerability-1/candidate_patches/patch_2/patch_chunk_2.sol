function memcpy(uint dest, uint src, uint len) private pure {
    // Use local variables to avoid shadowing function arguments
    uint _dest = dest;
    uint _src = src;
    uint _len = len;

    for(; _len >= 32; _len -= 32) {
        assembly {
            mstore(_dest, mload(_src))
        }
        _dest += 32;
        _src += 32;
    }

    uint mask = 256 ** (32 - _len) - 1;
    assembly {
        let srcpart := and(mload(_src), not(mask))
        let destpart := and(mload(_dest), mask)
        mstore(_dest, or(destpart, srcpart))
    }
}