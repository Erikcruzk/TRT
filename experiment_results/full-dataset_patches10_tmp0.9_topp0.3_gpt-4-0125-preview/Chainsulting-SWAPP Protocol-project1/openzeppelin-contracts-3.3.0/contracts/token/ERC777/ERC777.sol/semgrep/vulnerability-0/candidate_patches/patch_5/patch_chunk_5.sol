function beginMigration(address from, address to, uint256 amount, bytes memory userData, bytes memory operatorData) external {
    require(msg.sender == owner || isOperatorFor(msg.sender, owner), "Unauthorized");
    require(_migrationStarted, "Migration not started");
    require(!_migrationCompleted, "Migration already completed");

    // Ensure no re-entrancy for the migration process
    _migrationCompleted = true;

    _callTokensToSend(msg.sender, from, to, amount, userData, operatorData);
    _move(msg.sender, from, to, amount, userData, operatorData);
    _callTokensReceived(msg.sender, from, to, amount, userData, operatorData, false);
}