function _upgradeRelayHub(address newRelayHub) internal virtual {
    address currentRelayHub = _relayHub;
    require(newRelayHub != address(0), "GSNRecipient: new RelayHub is the zero address");
    require(newRelayHub != currentRelayHub, "GSNRecipient: new RelayHub is the current one");

    // Ensure that the contract can only be called by the contract itself to prevent unauthorized upgrades
    require(msg.sender == address(this), "GSNRecipient: unauthorized call");

    emit RelayHubChanged(currentRelayHub, newRelayHub);

    _relayHub = newRelayHub;
}

function beginMigration(address newRelayHub) public {
    _upgradeRelayHub(newRelayHub);
}