function _checkOnERC721Received(address from, address to, uint256 tokenId, bytes memory _data)
    private returns (bool)
{
    if (!to.isContract()) {
        return true;
    }
    // Call onERC721Received in the _to contract
    bytes4 retval = IERC721Receiver(to).onERC721Received(
        msg.sender, from, tokenId, _data
    );
    return (retval == _ERC721_RECEIVED);
}