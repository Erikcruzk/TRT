function distributeFeeProportionally(uint256 _fee, bytes32 _direction) internal {
    IRewardableValidators validators = rewardableValidatorContract();
    address F_ADDR = 0xFFfFfFffFFfffFFfFFfFFFFFffFFFffffFfFFFfF;
    uint256 numOfValidators = validators.validatorCount();

    if (numOfValidators == 0) return;

    uint256 feePerValidator = _fee.div(numOfValidators);

    uint256 randomValidatorIndex;
    uint256 diff = _fee.sub(feePerValidator.mul(numOfValidators));
    if (diff > 0) {
        randomValidatorIndex = random(numOfValidators);
    }

    for (uint256 i = 0; i < numOfValidators; i++) {
        address validator = validators.validatorList()[i];
        uint256 feeToDistribute = feePerValidator;
        if (diff > 0 && randomValidatorIndex == i) {
            feeToDistribute = feeToDistribute.add(diff);
        }

        address rewardAddress = validators.getValidatorRewardAddress(validator);
        onFeeDistribution(rewardAddress, feeToDistribute, _direction);
    }
}