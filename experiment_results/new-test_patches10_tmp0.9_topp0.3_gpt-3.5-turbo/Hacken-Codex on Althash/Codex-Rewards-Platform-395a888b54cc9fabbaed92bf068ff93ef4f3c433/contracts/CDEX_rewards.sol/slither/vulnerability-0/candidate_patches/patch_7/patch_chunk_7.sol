function withdraw(uint256 amount) public nonReentrant updateReward(msg.sender) {
    require(amount > 0);
    
    uint256 userBalance = _balances[msg.sender];
    
    _totalSupply = _totalSupply.sub(amount);
    _balances[msg.sender] = userBalance.sub(amount);
    
    if(_balances[msg.sender] == 0) {
        totalMembers -= 1;
    } else {
        CDEXRanking.remove(userBalance, msg.sender);
        CDEXRanking.insert(_balances[msg.sender], msg.sender);
    }
    
    require(CDEXToken.transfer(msg.sender, amount));
    
    emit Withdrawn(msg.sender, amount);
}